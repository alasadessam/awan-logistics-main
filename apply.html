<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ุงูุชูุฏูู ุนูู ูุธููุฉ ููุฏูุจ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>

<!-- ุดุฑูุท ุงูุชููู -->
<header class="main-header">
    <div class="logo">
        <img src="logo.png" alt="ุดุนุงุฑ ุงูุดุฑูุฉ">
    </div>

    <nav class="main-nav">
        <a href="index.html"><i class="fa-solid fa-house"></i> ุงูุฑุฆูุณูุฉ</a>
        <a href="about.html"><i class="fa-solid fa-building"></i> ุนู ุงูุดุฑูุฉ</a>
        <a href="contact.html"><i class="fa-solid fa-envelope"></i> ุชูุงุตู ูุนูุง</a>
    </nav>

    <button class="dark-toggle" id="darkToggle" onclick="toggleDarkMode()">๐</button>
</header>

<!-- ูุญุชูู ุงูุตูุญุฉ -->
<main class="page-content">
    <h1>ุงูุชูุฏูู ุนูู ูุธููุฉ ููุฏูุจ ุชูุตูู</h1>
    <p>ูุฑุฌู ุชุนุจุฆุฉ ุงูุจูุงูุงุช ุงูุชุงููุฉ ุจุฏูุฉ ููุชู ุงูุชูุงุตู ูุนู.</p>

    <form onsubmit="saveApplication(event)">

        <div class="input-group">
            <i class="fa-solid fa-user"></i>
            <input type="text" id="name" placeholder="ุงูุงุณู ุงููุงูู" required>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-phone"></i>
            <input type="text" id="phone" placeholder="ุฑูู ุงูุฌูุงู" required>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-id-card"></i>
            <input type="text" id="idNumber" placeholder="ุฑูู ุงููููุฉ" required>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-user-clock"></i>
            <input type="number" id="age" placeholder="ุงูุนูุฑ" required>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-id-card"></i>
            <select id="hasLicense" required onchange="toggleLicenseType()">
                <option value="">ูู ูุฏูู ุฑุฎุตุฉ ููุงุฏุฉุ</option>
                <option value="ูุนู">ูุนู</option>
                <option value="ูุง">ูุง</option>
            </select>
        </div>

        <div class="input-group" id="licenseTypeGroup">
            <i class="fa-solid fa-car"></i>
            <select id="licenseType">
                <option value="">ููุน ุงูุฑุฎุตุฉ</option>
                <option>ุฎุตูุตู</option>
                <option>ุฏุฑุงุฌุฉ ูุงุฑูุฉ</option>
                <option>ููู ุฎููู</option>
                <option>ููู ุซููู</option>
                <option>ูุง ููุฌุฏ</option>
            </select>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-passport"></i>
            <select id="iqama" required>
                <option value="">ูู ุงูุฅูุงูุฉ ุณุงุฑูุฉุ</option>
                <option>ูุนู</option>
                <option>ูุง</option>
            </select>
        </div>

        <div class="input-group">
            <i class="fa-solid fa-location-dot"></i>
            <input type="text" id="city" placeholder="ุงููุฏููุฉ" required>
        </div>

        <button type="submit">
            <i class="fa-solid fa-paper-plane"></i> ุฅุฑุณุงู ุงูุทูุจ
        </button>
    </form>

    <div style="margin-top: 30px;">
        <a href="index.html" class="back-btn">ุงูุนูุฏุฉ ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</a>
    </div>
</main>

<!-- ุชุฐููู -->
<footer class="main-footer">
    <p>ยฉ 2026 ุดุฑูุฉ ุฃุนูุงู ุงูุนุฑุจูุฉ ููุฎุฏูุงุช ุงูููุฌุณุชูุฉ โ ุฌููุน ุงูุญููู ูุญููุธุฉ</p>
</footer>
<div id="successPopup" class="popup-overlay">
    <div class="popup-box">
        <h2>ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ</h2>
        <p>ุณูุชู ุงูุชูุงุตู ูุนู ูุฑูุจุงู</p>
        <button onclick="closePopup()">ุฅุบูุงู</button>
    </div>
</div>
<script>
    
function saveApplication(e) {
    e.preventDefault();

    const application = {
        name: document.getElementById("name").value,
        phone: document.getElementById("phone").value,
        idNumber: document.getElementById("idNumber").value,
        age: document.getElementById("age").value,
        hasLicense: document.getElementById("hasLicense").value,
        licenseType: document.getElementById("licenseType").value,
        iqama: document.getElementById("iqama").value,
        city: document.getElementById("city").value,
        date: new Date().toLocaleString()
    };

    fetch("https://script.google.com/macros/s/AKfycbz096j5DU4M9bfMifxCu_ZaQOL8ilW82qdEKTV18Z16II1X8Y0WQmIJvaKhF6K76er04g/exec", {
        method: "POST",
        body: JSON.stringify(application)
    })
    .then(res => res.text())
    .then(data => {
        showPopup();
        e.target.reset();
        toggleLicenseType();
    });
}
</script>
<script>
function showPopup() {
    document.getElementById("successPopup").style.display = "flex";
}
window.open(
    `https://wa.me/966531841554?text=ูุฑุญุจูุงุ ุงุณูู ${application.name}%0Aูุฏูุช ุทูุจ ุงูุงูุถูุงู ูููุฏูุจ ุชูุตูู ูุฏู ุดุฑูุฉ ุฃุนูุงู ุงูุนุฑุจูุฉ ููุฎุฏูุงุช ุงูููุฌุณุชูุฉ.%0A%0Aโข ุฑูู ุงูุฌูุงู: ${application.phone}%0Aโข ุฑูู ุงููููุฉ: ${application.idNumber}%0Aโข ุงููุฏููุฉ: ${application.city}%0Aโข ููุน ุงูุฑุฎุตุฉ: ${application.licenseType}%0A%0Aุดูุฑูุง ูููุ ูุฃุชุทูุน ููุชูุงุตู ูุนูู.`,
    "_blank"
);

function closePopup() {
    document.getElementById("successPopup").style.display = "none";
}
</script>
<!-- ุณูุฑุจุช ุงููุถุน ุงูุฏุงูู -->
<script>
if (localStorage.getItem("darkMode") === "enabled") {
    document.body.classList.add("dark-mode");
    document.getElementById("darkToggle").textContent = "โ๏ธ";
} else {
    document.getElementById("darkToggle").textContent = "๐";
}

function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");

    if (document.body.classList.contains("dark-mode")) {
        localStorage.setItem("darkMode", "enabled");
        document.getElementById("darkToggle").textContent = "โ๏ธ";
    } else {
        localStorage.setItem("darkMode", "disabled");
        document.getElementById("darkToggle").textContent = "๐";
    }
}
</script>

</body>
</html>